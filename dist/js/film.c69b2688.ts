(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["film"],{"0083":function(e,t,i){"use strict";var n=i("23f5"),r=i.n(n);r.a},"23f5":function(e,t,i){},"3fd9":function(e,t,i){},4344:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"film"},[e.currentFilm&&e.cast&&e.trailers?i("div",[i("div",{staticClass:"film__poster-container"},[e.currentFilm.backdrop_path?i("img",{staticClass:"film__poster",attrs:{src:e.globalImgAddress+"1280"+e.currentFilm.backdrop_path}}):e._e()]),i("div",{staticClass:"container"},[e.genres&&e.genres.length?i("div",[e._v(" "+e._s(e._f("localize")("film-genres"))+": "+e._s(e.genres)+" ")]):e._e(),e.currentFilm.overview?i("div",[i("div",[e._v(e._s(e._f("localize")("film-summary")))]),i("div",[e._v(e._s(e.currentFilm.overview))])]):e._e(),e.cast.length?i("div",[i("SlickTemplate",{attrs:{cast:e.cast}})],1):e._e(),e.trailers.length?i("div",[i("div",{staticClass:"film-trailers-slick-template__title"},[e._v(" "+e._s(e._f("localize")("film-trailers-slick-template-trailers"))+" ")]),e._l(e.trailers,(function(t){return i("div",{key:t.id},[i("iframe",{attrs:{width:e.iFrameWidth,height:e.iFrameWidth/16*9,src:"https://www.youtube.com/embed/"+t.key}}),i("div",{staticClass:"film-trailer-cover-template__trailer-title"},[e._v(" "+e._s(t.name)+" ")])])}))],2):e._e(),e.reviews&&e.reviews.length?i("div",{staticClass:"film__title"},[e._v(" "+e._s(e._f("localize")("film-reviews"))+" ")]):e._e(),e._l(e.reviews,(function(e,t){return i("div",{key:e.id},[i("FilmReviewTemplate",{attrs:{review:e,index:t}})],1)}))],2)]):e._e()])},r=[],a=(i("99af"),i("a15b"),i("d81d"),i("b0c0"),i("d3b7"),i("3ca3"),i("ddb0"),i("96cf"),i("bc3a")),s=i.n(a),c=i("e193"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.index%2?"film-review-template__right-border":"film-review-template__left-border"},[i("div",{staticClass:"film-review-template__bio"},[i("div",[e._v(e._s(e.review.author))]),i("div",[e._v(e._s(e.splittedReviewContent))]),i("a",{staticClass:"film-review-template__full-review",attrs:{href:"//www.themoviedb.org/review/"+e.review.id}},[e._v(e._s(e._f("localize")("film-review-template-see-full-review"))+" >>")])])])},o=[],u={props:["review","index"],computed:{splittedReviewContent:function(){return this.review.content.substring(0,255)+"..."}}},h=u,d=(i("0083"),i("2877")),m=Object(d["a"])(h,l,o,!1,null,null,null),f=m.exports,v={data:function(){return{key:"f943d3d10cc39fd734122d69efabbacb",genres:"",currentFilm:{},cast:[],trailers:[],reviews:[],locale:"",windowWidth:0,iFrameWidth:0}},components:{SlickTemplate:c["a"],FilmReviewTemplate:f},props:["filmID","filmType"],methods:{changeLocale:function(){var e,t,i,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return this.$root.loading=!0,this.locale=this.$store.getters.locale,this.currentFilm={},r.next=5,regeneratorRuntime.awrap(this.getCurrentFilm());case 5:e=r.sent,this.genres="",this.getGenres(),this.cast=[],t=this.getCast(),this.trailers=[],i=this.getTrailers(),this.reviews=[],n=this.getReviews(),Promise.all([e,t,i,n]).then(this.$root.loading=!1);case 15:case"end":return r.stop()}}),null,this)},getCurrentFilm:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(s.a.get("".concat(this.globalAPIMovieDBAddress,"/3/").concat(this.filmType,"/").concat(this.filmID,"?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(t){e.currentFilm=t.data})));case 2:case"end":return t.stop()}}),null,this)},getGenres:function(){this.genres=this.currentFilm.genres.map((function(e){return e.name})).join("/")},getCast:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(s.a.get("".concat(this.globalAPIMovieDBAddress,"/3/").concat(this.filmType,"/").concat(this.filmID,"/credits?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(t){e.cast=t.data.cast;for(var i=function(t){s.a.get("".concat(e.globalAPIMovieDBAddress,"/3/person/").concat(e.cast[t].id,"?api_key=").concat(e.key,"&language=").concat(e.locale)).then((function(i){e.$set(e.cast[t],"bio",i.data.biography)}))},n=0;n<e.cast.length;n++)i(n)})));case 2:case"end":return t.stop()}}),null,this)},getTrailers:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(s.a.get("".concat(this.globalAPIMovieDBAddress,"/3/").concat(this.filmType,"/").concat(this.filmID,"/videos?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(t){e.trailers=t.data.results})));case 2:case"end":return t.stop()}}),null,this)},getReviews:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(s.a.get("".concat(this.globalAPIMovieDBAddress,"/3/").concat(this.filmType,"/").concat(this.filmID,"/reviews?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(t){e.reviews=t.data.results})));case 2:case"end":return t.stop()}}),null,this)},getWindowWidth:function(e){this.windowWidth=document.documentElement.clientWidth,this.windowWidth>479?this.iFrameWidth=.8*this.windowWidth:this.iFrameWidth=.9*this.windowWidth}},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowWidth)},watch:{"$store.getters.locale":function(){this.changeLocale()}},mounted:function(){var e,t,i,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return this.locale=this.$store.getters.locale,r.next=3,regeneratorRuntime.awrap(this.getCurrentFilm());case 3:return e=r.sent,this.getGenres(),r.next=7,regeneratorRuntime.awrap(this.getCast());case 7:return t=r.sent,r.next=10,regeneratorRuntime.awrap(this.getTrailers());case 10:return i=r.sent,r.next=13,regeneratorRuntime.awrap(this.getReviews());case 13:n=r.sent,Promise.all([e,t,i,n]).then(this.$root.loading=!1),window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth();case 17:case"end":return r.stop()}}),null,this)}},g=v,w=(i("54e1"),Object(d["a"])(g,n,r,!1,null,"c59c83de",null));t["default"]=w.exports},"54e1":function(e,t,i){"use strict";var n=i("3fd9"),r=i.n(n);r.a},a15b:function(e,t,i){"use strict";var n=i("23e7"),r=i("44ad"),a=i("fc6a"),s=i("b301"),c=[].join,l=r!=Object,o=s("join",",");n({target:"Array",proto:!0,forced:l||o},{join:function(e){return c.call(a(this),void 0===e?",":e)}})},b301:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!i||!n((function(){i.call(null,t||function(){throw 1},1)}))}},d81d:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").map,a=i("1dde");n({target:"Array",proto:!0,forced:!a("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=film.c69b2688.js.map