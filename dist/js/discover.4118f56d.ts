(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["discover"],{1276:function(e,t,r){"use strict";var i=r("d784"),s=r("44e7"),a=r("825a"),o=r("1d80"),n=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),h=r("9263"),d=r("d039"),v=[].push,p=Math.min,g=4294967295,m=!d((function(){return!RegExp(g,"y")}));i("split",2,(function(e,t,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var i=String(o(this)),a=void 0===r?g:r>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return t.call(i,e,a);var n,c,l,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,d+"g");while(n=h.call(m,i)){if(c=m.lastIndex,c>p&&(u.push(i.slice(p,n.index)),n.length>1&&n.index<i.length&&v.apply(u,n.slice(1)),l=n[0].length,p=c,u.length>=a))break;m.lastIndex===n.index&&m.lastIndex++}return p===i.length?!l&&m.test("")||u.push(""):u.push(i.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var s=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,s,r):i.call(String(s),t,r)},function(e,s){var o=r(i,e,this,s,i!==t);if(o.done)return o.value;var h=a(e),d=String(this),v=n(h,RegExp),_=h.unicode,f=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),y=new v(m?h:"^(?:"+h.source+")",f),b=void 0===s?g:s>>>0;if(0===b)return[];if(0===d.length)return null===u(y,d)?[d]:[];var P=0,I=0,w=[];while(I<d.length){y.lastIndex=m?I:0;var C,A=u(y,m?d:d.slice(I));if(null===A||(C=p(l(y.lastIndex+(m?0:I)),d.length))===P)I=c(d,I,_);else{if(w.push(d.slice(P,I)),w.length===b)return w;for(var D=1;D<=A.length-1;D++)if(w.push(A[D]),w.length===b)return w;I=P=C}}return w.push(d.slice(P)),w}]}),!m)},"1db0":function(e,t,r){"use strict";var i=r("ae26"),s=r.n(i);s.a},"45fc":function(e,t,r){"use strict";var i=r("23e7"),s=r("b727").some,a=r("b301");i({target:"Array",proto:!0,forced:a("some")},{some:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"51a6":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.searchQuery?"popular_people"!==e.searchQuery&&e.item.media_type?i("router-link",{staticClass:"cover-template1",attrs:{tag:"div",title:e.item.overview,to:{name:"film",params:{filmID:e.item.id,filmType:e.item.media_type}}}},[e.item.poster_path?i("img",{staticClass:"cover-template1__poster",attrs:{src:e.globalImgAddress+"154"+e.item.poster_path}}):i("img",{staticClass:"cover-template1__poster",attrs:{src:r("bd21")}}),e.item.title||e.item.name||e.item.original_title||e.item.original_name?i("div",{staticClass:"cover-template1__film-title"},[e._v(" "+e._s(e.item.title||e.item.name||e.item.original_title||e.item.original_name)+" ")]):i("div",{staticClass:"cover-template1__film-title"},[e._v(" "+e._s(e._f("localize")("cover-template-1-db"))+" ")]),e.item.genre_ids?i("div",{staticClass:"cover-template1__film-title"},[e._v(" "+e._s(e.getCurrentMediaTypeGenresNames(e.genres,e.item.genre_ids))+" ")]):i("div",{staticClass:"cover-template1__film-title"},[e._v(" "+e._s(e._f("localize")("cover-template-1-genres-are-not-provided"))+" ")])]):"popular_people"===e.searchQuery?i("router-link",{staticClass:"cover-template1",attrs:{tag:"div",title:e.item.bio,to:{name:"actor",params:{actorID:e.item.id}}}},[e.item.profile_path?i("img",{staticClass:"cover-template1__poster",attrs:{src:e.globalImgAddress+"154"+e.item.profile_path}}):i("img",{staticClass:"cover-template1__poster",attrs:{src:r("bd21")}}),i("div",{staticClass:"cover-template1__film-title"},[e._v(e._s(e.item.name))])]):e._e():i("router-link",{staticClass:"cover-template1",attrs:{tag:"div",title:e.item.overview,to:{name:"film",params:{filmID:e.item.id,filmType:e.item.media_type}}}},[e.item.poster_path?i("img",{staticClass:"cover-template1__poster",attrs:{src:e.globalImgAddress+"154"+e.item.poster_path}}):i("img",{staticClass:"cover-template1__poster",attrs:{src:r("bd21")}}),e.item.title||e.item.name?i("div",{staticClass:"cover-template1__film-title"},[e._v(" "+e._s(e.item.title||e.item.name)+" ")]):i("div",{staticClass:"cover-template1__film-title"},[e._v(" "+e._s(e._f("localize")("cover-template-1-db"))+" ")])])],1)},s=[],a={props:["item","genres","searchQuery"]},o=a,n=(r("1db0"),r("2877")),c=Object(n["a"])(o,i,s,!1,null,"7ba6745f",null);t["a"]=c.exports},6723:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"discover"},[r("div",{staticClass:"container"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.searchRequest(t)}}},[r("div",{staticClass:"discover__form"},[r("div",{staticClass:"discover__form-field-container"},[r("div",[e._v(e._s(e._f("localize")("discover-mediatype")))]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.media_type,expression:"media_type"}],staticClass:"discover__form-field",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.media_type=t.target.multiple?r:r[0]}}},e._l(e.mediatypeOptions,(function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])})),0)]),r("div",{staticClass:"discover__form-field-container"},[r("div",[e._v(e._s(e._f("localize")("discover-sort")))]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.sortType,expression:"sortType"}],staticClass:"discover__form-field",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortType=t.target.multiple?r:r[0]}}},e._l(e.sortOptions,(function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.title))])})),0)]),r("div",{staticClass:"discover__form-field-container"},[r("div",[e._v(e._s(e._f("localize")("discover-min-average-vote")))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.vote,expression:"vote"}],staticClass:"discover__form-field",attrs:{type:"number",placeholder:e.minAverageVotePlaceholder},domProps:{value:e.vote},on:{input:function(t){t.target.composing||(e.vote=t.target.value)}}})]),"movie"===e.media_type?r("div",{staticClass:"discover__form-field-container"},[r("div",[e._v(e._s(e._f("localize")("discover-involved-actor")))]),e.actor.name?e.actor.name?r("input",{staticClass:"discover__form-field",domProps:{value:e.actor.name},on:{focus:function(t){e.actor.name=null}}}):e._e():r("autocomplete",{attrs:{search:e.search,"get-result-value":e.getResultValue,"auto-select":""},on:{submit:e.onSubmit}})],1):e._e(),r("div",{staticClass:"discover__form-field-container"},[r("div",[e._v(e._s(e._f("localize")("discover-genre")))]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.genre,expression:"genre"}],staticClass:"discover__form-field",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.genre=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}}),e._l(e.genres,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])}))],2)]),r("div",{staticClass:"discover__form-field-container"},[r("div",[e._v(" "+e._s(e._f("localize")("movie"===e.media_type?"discover-year":"discover-first-airing-date"))+" ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],staticClass:"discover__form-field",attrs:{type:"number",placeholder:e.yearPlaceholder},domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}})])]),r("div",{staticClass:"discover__form-button-container"},[r("button",{staticClass:"discover__form-button",attrs:{type:"submit"}},[e._v(" "+e._s(e._f("localize")("discover-submit"))+" ")])])]),e.searchResultPage.total_results?r("div",{staticClass:"discover__results"},e._l(e.searchResultPage.results,(function(e){return r("div",{key:e.id,staticClass:"discover__result"},[r("CoverTemplate1",{attrs:{item:e}})],1)})),0):r("div",{staticClass:"discover__results-title"},[e._v(" "+e._s(e._f("localize")("discover-nothing-found"))+" ")]),e.searchResultPage.page?r("div",{staticClass:"discover__page-buttons"},[e.searchResultPage.page>1?r("button",{staticClass:"discover__page-button discover__page-button--previous",on:{click:function(t){return e.getPreviousPageSearchResults()}}},[e._v(" "+e._s(e._f("localize")("discover-previous"))+" ")]):e._e(),e.searchResultPage.page<e.searchResultPage.total_pages?r("button",{staticClass:"discover__page-button discover__page-button--next",on:{click:function(t){return e.getNextPageSearchResults()}}},[e._v(" "+e._s(e._f("localize")("discover-next"))+" ")]):e._e()]):e._e()])])},s=[],a=(r("99af"),r("a623"),r("4de4"),r("7db0"),r("caad"),r("45fc"),r("b0c0"),r("b64b"),r("d3b7"),r("ac1f"),r("2532"),r("1276"),r("96cf"),r("bc3a")),o=r.n(a),n=r("51a6"),c=r("95bf"),l=r("a0c8"),u={data:function(){return{movieSortOptions:[],tvSortOptions:[],mediatypeOptions:[],minAverageVotePlaceholder:"",yearPlaceholder:"",year:"",genre:"",people:"",vote:"",sortType:"",media_type:"",searchResultPage:{},movieGenres:null,tvshowGenres:null,searchQuery:"",pageNumber:"",fullPath:"",selectedActorIDFromList:"",selectedGenre:"",selectedGenreID:"",selectedActor:"",selectedVote:"",routeMediatype:"",routeSortBy:"",routeVote:"",routeActorID:"",routeGenreID:"",routeYear:"",routePage:"",key:"f943d3d10cc39fd734122d69efabbacb",actor:{},preventOnCreatedUpdate:!0,locale:"",arr2:[],selectedActorID:"",selectedActorName:""}},components:{CoverTemplate1:n["a"],Autocomplete:c["a"]},computed:{genres:function(){return"movie"===this.media_type?this.movieGenres:this.tvshowGenres},sortOptions:function(){return"movie"===this.media_type?this.movieSortOptions:this.tvSortOptions}},watch:{media_type:function(){this.preventOnCreatedUpdate?this.preventOnCreatedUpdate=!1:(this.genre=this.routeGenreID=this.selectedGenreID="",this.selectedActorIDFromList=this.routeActorID="",this.actor={},this.routeSortBy=this.sortType="popularity.desc")},$route:function(){var e=this;this.getRoutePaths(),this.routeMediatype&&(this.media_type="",this.media_type=this.routeMediatype),this.routeVote?(this.vote="",this.vote=this.routeVote):this.routeVote||(this.vote=""),this.routeYear?(this.year="",this.year=this.routeYear):this.routeYear||(this.year=""),this.routeSortBy&&(this.sortType="",this.sortType=this.routeSortBy),this.routeGenreID?(this.genre="",this.selectedGenre=this.genres.find((function(t){return t.id===+e.routeGenreID})),this.genre=this.selectedGenre.name):this.routeGenreID||(this.genre=""),this.routeActorID?(this.actor={},o.a.get("".concat(this.globalAPIMovieDBAddress,"/3/person/").concat(this.routeActorID,"?api_key=").concat(this.key,"&&language=").concat(this.locale)).then((function(t){e.actor=t.data}))):this.routeActorID||(this.actor={}),this.isSearchQueryCorrect()?(this.getLocalizedSelectsValues(),this.getPageSearchResults(this.routeMediatype,this.routeSortBy,this.routeVote,this.routeActorID,this.routeGenreID,this.routeYear,this.routePage)):(this.searchResultPage={},this.$root.loading=!1)},"$store.getters.locale":function(){this.changeLocale()}},created:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(this.locale=this.$store.getters.locale,this.getRoutePaths(),this.routeMediatype&&(this.media_type="",this.media_type=this.routeMediatype),this.routeVote&&(this.vote="",this.vote=this.routeVote),this.routeYear&&(this.year="",this.year=this.routeYear),this.routeSortBy&&(this.sortType="",this.sortType=this.routeSortBy),this.movieGenres=this.$store.getters.MovieGenres,this.tvshowGenres=this.$store.getters.TVShowGenres,this.routeGenreID&&(this.genre="",this.selectedGenre=this.genres.find((function(t){return t.id===+e.routeGenreID})),this.genre=this.selectedGenre.name),!this.routeActorID){t.next=13;break}return this.actor={},t.next=13,regeneratorRuntime.awrap(o.a.get("".concat(this.globalAPIMovieDBAddress,"/3/person/").concat(this.routeActorID,"?api_key=").concat(this.key,"&&language=").concat(this.locale)).then((function(t){e.actor=t.data})));case 13:this.getLocalizedSelectsValues(),this.isSearchQueryCorrect()?this.getPageSearchResults(this.routeMediatype,this.routeSortBy,this.routeVote,this.routeActorID,this.routeGenreID,this.routeYear,this.routePage):(this.searchResultPage={},this.$root.loading=!1);case 15:case"end":return t.stop()}}),null,this)},methods:{isSearchQueryCorrect:function(){var e=this,t=Object.keys(this.$route.query);return this.$route.query.mediatype&&"movie"===this.$route.query.mediatype?(this.arr2=["mediatype","page","sort_by","vote_average","with_genres","with_people","year"],this.arr2.every((function(e){return t.includes(e)}))&&this.movieSortOptions.some((function(t){return t.value===e.$route.query.sort_by}))&&+this.$route.query.page):this.$route.query.mediatype&&"tv"===this.$route.query.mediatype?(this.arr2=["mediatype","page","sort_by","vote_average","with_genres","first_air_date_year"],this.arr2.every((function(e){return t.includes(e)}))&&this.tvSortOptions.some((function(t){return t.value===e.$route.query.sort_by}))&&+this.$route.query.page):void 0},getLocalizedSelectsValues:function(){this.yearPlaceholder=Object(l["a"])("discover-year"),this.minAverageVotePlaceholder=Object(l["a"])("discover-min-average-vote"),this.mediatypeOptions=[{title:Object(l["a"])("discover-mediatype-movie"),value:"movie"},{title:Object(l["a"])("discover-mediatype-tvshow"),value:"tv"}],this.movieSortOptions=[{title:Object(l["a"])("discover-popularity-descending"),value:"popularity.desc"},{title:Object(l["a"])("discover-popularity-ascending"),value:"popularity.asc"},{title:Object(l["a"])("discover-release-date-descending"),value:"release_date.desc"},{title:Object(l["a"])("discover-release-date-ascending"),value:"release_date.asc"},{title:Object(l["a"])("discover-revenue-descending"),value:"revenue.desc"},{title:Object(l["a"])("discover-revenue-ascending"),value:"revenue.asc"},{title:Object(l["a"])("discover-vote-average-descending"),value:"vote_average.desc"},{title:Object(l["a"])("discover-vote-average-ascending"),value:"vote_average.asc"}],this.tvSortOptions=[{title:Object(l["a"])("discover-popularity-descending"),value:"popularity.desc"},{title:Object(l["a"])("discover-popularity-ascending"),value:"popularity.asc"},{title:Object(l["a"])("discover-first-air-date-descending"),value:"first_air_date.desc"},{title:Object(l["a"])("discover-first-air-date-ascending"),value:"first_air_date.asc"},{title:Object(l["a"])("discover-vote-average-descending"),value:"vote_average.desc"},{title:Object(l["a"])("discover-vote-average-ascending"),value:"vote_average.asc"}]},changeLocale:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.locale=this.$store.getters.locale,this.getLocalizedSelectsValues(),this.getRoutePaths(),this.isSearchQueryCorrect()?(this.getLocalizedSelectsValues(),this.getPageSearchResults(this.routeMediatype,this.routeSortBy,this.routeVote,this.routeActorID,this.routeGenreID,this.routeYear,this.routePage)):(this.searchResultPage={},this.$root.loading=!1),t.next=6,regeneratorRuntime.awrap(this.$store.dispatch("loadMovieGenres"));case 6:return this.movieGenres=this.$store.getters.MovieGenres,t.next=9,regeneratorRuntime.awrap(this.$store.dispatch("loadTVShowsGenres"));case 9:if(this.tvshowGenres=this.$store.getters.TVShowGenres,this.routeGenreID&&(this.selectedGenre=this.genres.find((function(t){return t.id===+e.routeGenreID})),this.genre=this.selectedGenre.name),!this.routeActorID){t.next=14;break}return t.next=14,regeneratorRuntime.awrap(o.a.get("".concat(this.globalAPIMovieDBAddress,"/3/person/").concat(this.routeActorID,"?api_key=").concat(this.key,"&&language=").concat(this.locale)).then((function(t){e.actor=t.data})));case 14:case"end":return t.stop()}}),null,this)},getFullPath:function(){this.fullPath=this.$route.fullPath.split("page=")[0]},increasePageNumber:function(){this.pageNumber=this.$route.query.page,this.pageNumber++},decreasePageNumber:function(){this.pageNumber=this.$route.query.page,this.pageNumber--},getRoutePaths:function(){this.routeMediatype=this.$route.query.mediatype,this.routeSortBy=this.$route.query.sort_by,this.routeVote=this.$route.query.vote_average,this.routeActorID=this.$route.query.with_people,this.routeGenreID=this.$route.query.with_genres,this.routeYear="movie"===this.routeMediatype?this.$route.query.year:this.$route.query.first_air_date_year,this.routePage=this.$route.query.page},search:function(e){var t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.length<1)){r.next=3;break}return this.selectedActorIDFromList="",r.abrupt("return",[]);case 3:return t=[],r.next=6,regeneratorRuntime.awrap(o.a.get("".concat(this.globalAPIMovieDBAddress,"/3/search/person?api_key=").concat(this.key,"&language=").concat(this.locale,"&query=").concat(e,"&include_adult=false&page=1")).then((function(r){t=r.data.results,t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})));case 6:return this.$root.loading=!1,r.abrupt("return",t);case 8:case"end":return r.stop()}}),null,this)},getResultValue:function(e){return e.name},onSubmit:function(e){e&&(this.selectedActorIDFromList=e.id)},searchRequest:function(){var e=this;this.genre?(this.selectedGenre=this.genres.find((function(t){return t.name===e.genre})),this.selectedGenreID=this.selectedGenre.id):this.genre||(this.selectedGenreID=""),"tv"===this.media_type&&(this.selectedActor=""),(this.selectedActorIDFromList||this.actor.id)&&(this.selectedActor=this.selectedActorIDFromList||this.actor.id),"movie"===this.media_type?this.$router.push("".concat(this.$route.path,"?mediatype=").concat(this.media_type,"&sort_by=").concat(this.sortType,"&vote_average=").concat(this.vote,"&with_people=").concat(this.selectedActor,"&with_genres=").concat(this.selectedGenreID,"&year=").concat(this.year,"&page=1")):"tv"===this.media_type&&this.$router.push("".concat(this.$route.path,"?mediatype=").concat(this.media_type,"&sort_by=").concat(this.sortType,"&vote_average=").concat(this.vote,"&with_genres=").concat(this.selectedGenreID,"&first_air_date_year=").concat(this.year,"&page=1"))},getPageSearchResults:function(e,t,r,i,s,a,n){var c=this;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:if("movie"!==e){l.next=5;break}return l.next=3,regeneratorRuntime.awrap(o.a.get("".concat(this.globalAPIMovieDBAddress,"/3/discover/").concat(e,"?api_key=").concat(this.key,"&language=").concat(this.locale,"&sort_by=").concat(t,"&include_adult=false&include_video=false&vote_average.gte=").concat(r,"&with_people=").concat(i,"&with_genres=").concat(s,"&year=").concat(a,"&page=").concat(n)).then((function(t){if(c.searchResultPage=t.data,c.searchResultPage.results.length)for(var r=0;r<c.searchResultPage.results.length;r++)c.$set(c.searchResultPage.results[r],"media_type",e)})));case 3:l.next=8;break;case 5:if("tv"!==e){l.next=8;break}return l.next=8,regeneratorRuntime.awrap(o.a.get("".concat(this.globalAPIMovieDBAddress,"/3/discover/").concat(e,"?api_key=").concat(this.key,"&language=").concat(this.locale,"&sort_by=").concat(t,"&include_adult=false&include_video=false&vote_average.gte=").concat(r,"&with_genres=").concat(s,"&first_air_date_year=").concat(a,"&page=").concat(n)).then((function(t){if(c.searchResultPage=t.data,c.searchResultPage.results.length)for(var r=0;r<c.searchResultPage.results.length;r++)c.$set(c.searchResultPage.results[r],"media_type",e)})));case 8:this.$root.loading=!1;case 9:case"end":return l.stop()}}),null,this)},getNextPageSearchResults:function(){this.getFullPath(),this.increasePageNumber(),this.$router.push("".concat(this.fullPath,"&page=").concat(this.pageNumber))},getPreviousPageSearchResults:function(){this.getFullPath(),this.decreasePageNumber(),this.$router.push("".concat(this.fullPath,"&page=").concat(this.pageNumber))}}},h=u,d=(r("eddc"),r("2877")),v=Object(d["a"])(h,i,s,!1,null,"6061ee57",null);t["default"]=v.exports},"7db0":function(e,t,r){"use strict";var i=r("23e7"),s=r("b727").find,a=r("44d2"),o="find",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),i({target:"Array",proto:!0,forced:n},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},a623:function(e,t,r){"use strict";var i=r("23e7"),s=r("b727").every,a=r("b301");i({target:"Array",proto:!0,forced:a("every")},{every:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},ae26:function(e,t,r){},b301:function(e,t,r){"use strict";var i=r("d039");e.exports=function(e,t){var r=[][e];return!r||!i((function(){r.call(null,t||function(){throw 1},1)}))}},d514:function(e,t,r){},eddc:function(e,t,r){"use strict";var i=r("d514"),s=r.n(i);s.a}}]);
//# sourceMappingURL=discover.4118f56d.js.map