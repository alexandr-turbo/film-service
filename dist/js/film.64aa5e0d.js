(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["film"],{"3b9d":function(e,t,i){"use strict";i("9e26")},4344:function(e,t,i){"use strict";i.r(t);i("99af"),i("b0c0");var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"film"},[e.currentFilm&&e.cast&&e.trailers?t("div",[t("div",{staticClass:"film__poster-container"},[e.currentFilm.backdrop_path?t("img",{staticClass:"film__poster",attrs:{src:"".concat(e.globalImgAddress,"1280").concat(e.currentFilm.backdrop_path)}}):e._e()]),t("div",{staticClass:"container"},[e.genres&&e.genres.length?t("div",[e._v(" "+e._s(e._f("localize")("film-genres"))+": "+e._s(e.genres)+" ")]):e._e(),e.currentFilm.overview?t("div",[t("div",[e._v(e._s(e._f("localize")("film-summary")))]),t("div",[e._v(e._s(e.currentFilm.overview))])]):e._e(),e.cast.length?t("div",[t("SlickTemplate",{attrs:{cast:e.cast}})],1):e._e(),e.trailers.length?t("div",[t("div",{staticClass:"film-trailers-slick-template__title"},[e._v(" "+e._s(e._f("localize")("film-trailers-slick-template-trailers"))+" ")]),e._l(e.trailers,(function(i){return t("div",{key:i.id},[t("iframe",{attrs:{width:"100%",height:e.iFrameWidth/16*9,src:"https://www.youtube.com/embed/".concat(i.key)}}),t("div",{staticClass:"film-trailer-cover-template__trailer-title"},[e._v(" "+e._s(i.name)+" ")])])}))],2):e._e(),e.reviews&&e.reviews.length?t("div",{staticClass:"film__title"},[e._v(" "+e._s(e._f("localize")("film-reviews"))+" ")]):e._e(),e._l(e.reviews,(function(e,i){return t("div",{key:e.id},[t("FilmReviewTemplate",{attrs:{review:e,index:i}})],1)}))],2)]):e._e()])},r=[],a=i("c7eb"),c=i("1da1"),s=i("d4ec"),o=i("bee2"),l=i("262e"),u=i("2caf"),d=i("53ca"),h=(i("e439"),i("d3b7"),i("f8c9"),i("3ca3"),i("ddb0"),i("a15b"),i("d81d"),i("bc3a")),f=i.n(h),v=i("1b40"),p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.index%2?"film-review-template__right-border":"film-review-template__left-border"},[t("div",{staticClass:"film-review-template__bio"},[t("div",[e._v(e._s(e.review.author))]),t("div",[e._v(e._s(e.splittedReviewContent))]),t("a",{staticClass:"film-review-template__full-review",attrs:{href:"//www.themoviedb.org/review/".concat(e.review.id)}},[e._v(e._s(e._f("localize")("film-review-template-see-full-review"))+" >>")])])])},m=[],b=function(e,t,i,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(c=(a<3?r(c):a>3?r(t,i,c):r(t,i))||c);return a>3&&c&&Object.defineProperty(t,i,c),c},g=function(e){Object(l["a"])(i,e);var t=Object(u["a"])(i);function i(){return Object(s["a"])(this,i),t.apply(this,arguments)}return Object(o["a"])(i,[{key:"splittedReviewContent",get:function(){return this.review.content.substring(0,255)+"..."}}]),i}(v["c"]);b([Object(v["b"])()],g.prototype,"review",void 0),b([Object(v["b"])()],g.prototype,"index",void 0),g=b([Object(v["a"])({})],g);var w=g,_=w,y=(i("d9c4"),i("2877")),j=Object(y["a"])(_,p,m,!1,null,null,null),O=j.exports,k=i("e193"),x=i("cd49"),W=function(e,t,i,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"===typeof Reflect?"undefined":Object(d["a"])(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(c=(a<3?r(c):a>3?r(t,i,c):r(t,i))||c);return a>3&&c&&Object.defineProperty(t,i,c),c},A=function(e){Object(l["a"])(i,e);var t=Object(u["a"])(i);function i(){var e;return Object(s["a"])(this,i),e=t.apply(this,arguments),e.globalImgAddress=x["globalImgAddress"],e.globalAPIMovieDBAddress=x["globalAPIMovieDBAddress"],e.key="f943d3d10cc39fd734122d69efabbacb",e.genres="",e.currentFilm=null,e.cast=[],e.trailers=[],e.reviews=[],e.locale="",e.windowWidth=null,e.iFrameWidth=null,e}return Object(o["a"])(i,[{key:"localeWatcher",value:function(){this.changeLocale()}},{key:"changeLocale",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t,i,n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.$emit("isLoading",!0),this.locale=this.$store.getters.locale,this.currentFilm=null,e.next=5,this.getCurrentFilm();case 5:t=e.sent,this.genres="",this.getGenres(),this.cast=[],i=this.getCast(),this.trailers=[],n=this.getTrailers(),this.reviews=[],r=this.getReviews(),Promise.all([t,i,n,r]).then(this.$root.$emit("isLoading",!1));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentFilm",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(x["globalAPIMovieDBAddress"],"/3/").concat(this.filmType,"/").concat(this.filmID,"?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(e){t.currentFilm=e.data}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getGenres",value:function(){this.genres=this.currentFilm.genres.map((function(e){return e.name})).join("/")}},{key:"getCast",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(x["globalAPIMovieDBAddress"],"/3/").concat(this.filmType,"/").concat(this.filmID,"/credits?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(e){t.cast=e.data.cast;for(var i=function(e){f.a.get("".concat(x["globalAPIMovieDBAddress"],"/3/person/").concat(t.cast[e].id,"?api_key=").concat(t.key,"&language=").concat(t.locale)).then((function(i){t.$set(t.cast[e],"bio",i.data.biography)}))},n=0;n<t.cast.length;n++)i(n)}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTrailers",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(x["globalAPIMovieDBAddress"],"/3/").concat(this.filmType,"/").concat(this.filmID,"/videos?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(e){t.trailers=e.data.results}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getReviews",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(x["globalAPIMovieDBAddress"],"/3/").concat(this.filmType,"/").concat(this.filmID,"/reviews?api_key=").concat(this.key,"&language=").concat(this.locale)).then((function(e){t.reviews=e.data.results}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWindowWidth",value:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth>479?this.iFrameWidth=.8*this.windowWidth:this.iFrameWidth=.9*this.windowWidth}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.getWindowWidth)}},{key:"mounted",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t,i,n,r;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.locale=this.$store.getters.locale,e.next=3,this.getCurrentFilm();case 3:return t=e.sent,this.getGenres(),e.next=7,this.getCast();case 7:return i=e.sent,e.next=10,this.getTrailers();case 10:return n=e.sent,e.next=13,this.getReviews();case 13:r=e.sent,Promise.all([t,i,n,r]).then(this.$root.$emit("isLoading",!1)),window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),i}(v["c"]);W([Object(v["b"])()],A.prototype,"filmID",void 0),W([Object(v["b"])()],A.prototype,"filmType",void 0),W([Object(v["d"])("$store.getters.locale")],A.prototype,"localeWatcher",null),A=W([Object(v["a"])({components:{FilmReviewTemplate:O,SlickTemplate:k["a"]}})],A);var F=A,C=F,D=(i("3b9d"),Object(y["a"])(C,n,r,!1,null,"5a941c35",null));t["default"]=D.exports},"4fc0":function(e,t,i){},"9e26":function(e,t,i){},a15b:function(e,t,i){"use strict";var n=i("23e7"),r=i("e330"),a=i("44ad"),c=i("fc6a"),s=i("a640"),o=r([].join),l=a!=Object,u=l||!s("join",",");n({target:"Array",proto:!0,forced:u},{join:function(e){return o(c(this),void 0===e?",":e)}})},d81d:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").map,a=i("1dde"),c=a("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d9c4:function(e,t,i){"use strict";i("4fc0")}}]);
//# sourceMappingURL=film.64aa5e0d.js.map