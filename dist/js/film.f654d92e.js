(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["film"],{4344:function(e,t,n){"use strict";n.r(t);n("99af"),n("b0c0");var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"film"},[e.currentFilm&&e.cast&&e.trailers?t("div",[t("div",{staticClass:"film__poster-container"},[e.currentFilm.backdrop_path?t("img",{staticClass:"film__poster",attrs:{src:"".concat(e.globalImgAddress,"1280").concat(e.currentFilm.backdrop_path)}}):e._e()]),t("div",{staticClass:"container"},[e.genres&&e.genres.length?t("div",[e._v(" "+e._s(e._f("localize")("film-genres"))+": "+e._s(e.genres)+" ")]):e._e(),e.currentFilm.overview?t("div",[t("div",[e._v(e._s(e._f("localize")("film-summary")))]),t("div",[e._v(e._s(e.currentFilm.overview))])]):e._e(),e.cast.length?t("div",[t("SlickTemplate",{attrs:{cast:e.cast}})],1):e._e(),e.trailers.length?t("div",[t("div",{staticClass:"film-trailers-slick-template__title"},[e._v(" "+e._s(e._f("localize")("film-trailers-slick-template-trailers"))+" ")]),e._l(e.trailers,(function(n){return t("div",{key:n.id},[t("iframe",{attrs:{width:"100%",height:e.iFrameWidth/16*9,src:"https://www.youtube.com/embed/".concat(n.key)}}),t("div",{staticClass:"film-trailer-cover-template__trailer-title"},[e._v(" "+e._s(n.name)+" ")])])}))],2):e._e(),e.reviews&&e.reviews.length?t("div",{staticClass:"film__title"},[e._v(" "+e._s(e._f("localize")("film-reviews"))+" ")]):e._e(),e._l(e.reviews,(function(e,n){return t("div",{key:e.id},[t("FilmReviewTemplate",{attrs:{review:e,index:n}})],1)}))],2)]):e._e()])},i=[],a=n("c7eb"),c=n("1da1"),s=n("d4ec"),o=n("bee2"),l=n("262e"),u=n("2caf"),f=n("53ca"),d=(n("e439"),n("d3b7"),n("f8c9"),n("3ca3"),n("ddb0"),n("a15b"),n("d81d"),n("1b40")),h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.index%2?"film-review-template__right-border":"film-review-template__left-border"},[t("div",{staticClass:"film-review-template__bio"},[t("div",[e._v(e._s(e.review.author))]),t("div",[e._v(e._s(e.splittedReviewContent))]),t("a",{staticClass:"film-review-template__full-review",attrs:{href:"//www.themoviedb.org/review/".concat(e.review.id)}},[e._v(e._s(e._f("localize")("film-review-template-see-full-review"))+" >>")])])])},v=[],p=function(e,t,n,r){var i,a=arguments.length,c=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Object(f["a"])(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,n,c):i(t,n))||c);return a>3&&c&&Object.defineProperty(t,n,c),c},b=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return Object(o["a"])(n,[{key:"splittedReviewContent",get:function(){return this.review.content.substring(0,255)+"..."}}]),n}(d["c"]);p([Object(d["b"])()],b.prototype,"review",void 0),p([Object(d["b"])()],b.prototype,"index",void 0),b=p([Object(d["a"])({})],b);var m=b,g=m,w=(n("d9c4"),n("2877")),_=Object(w["a"])(g,h,v,!1,null,null,null),y=_.exports,j=n("e193"),O=n("cd49"),k=n("c761"),A=n("710c"),x=function(e,t,n,r){var i,a=arguments.length,c=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Object(f["a"])(Reflect))&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(a<3?i(c):a>3?i(t,n,c):i(t,n))||c);return a>3&&c&&Object.defineProperty(t,n,c),c},F=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.globalImgAddress=O["globalImgAddress"],e.globalAPIMovieDBAddress=O["globalAPIMovieDBAddress"],e.key="f943d3d10cc39fd734122d69efabbacb",e.genres="",e.currentFilm=null,e.cast=[],e.trailers=[],e.reviews=[],e.locale="",e.windowWidth=null,e.iFrameWidth=null,e}return Object(o["a"])(n,[{key:"localeWatcher",value:function(){this.changeLocale()}},{key:"changeLocale",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t,n,r,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.$emit("isLoading",!0),this.locale=this.$store.getters.locale,this.currentFilm=null,e.next=5,this.getCurrentFilm();case 5:t=e.sent,this.genres="",this.getGenres(),this.cast=[],n=this.getCast(),this.trailers=[],r=this.getTrailers(),this.reviews=[],i=this.getReviews(),Promise.all([t,n,r,i]).then(this.$root.$emit("isLoading",!1));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentFilm",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].fetchFilmByID(this.filmType,this.filmID).then((function(e){t.currentFilm=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getGenres",value:function(){this.genres=this.currentFilm.genres.map((function(e){return e.name})).join("/")}},{key:"getCast",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].fetchCastByFilmID(this.filmType,this.filmID).then((function(e){t.cast=e;for(var n=function(e){A["a"].fetchActor(t.cast[e].id).then((function(n){t.$set(t.cast[e],"bio",n.biography)}))},r=0;r<t.cast.length;r++)n(r)}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTrailers",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].fetchTrailersByFilmID(this.filmType,this.filmID).then((function(e){t.trailers=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getReviews",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].fetchReviewsByFilmID(this.filmType,this.filmID).then((function(e){t.reviews=e}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWindowWidth",value:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth>479?this.iFrameWidth=.8*this.windowWidth:this.iFrameWidth=.9*this.windowWidth}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.getWindowWidth)}},{key:"mounted",value:function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(){var t,n,r,i;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.locale=this.$store.getters.locale,e.next=3,this.getCurrentFilm();case 3:return t=e.sent,this.getGenres(),e.next=7,this.getCast();case 7:return n=e.sent,e.next=10,this.getTrailers();case 10:return r=e.sent,e.next=13,this.getReviews();case 13:i=e.sent,Promise.all([t,n,r,i]).then(this.$root.$emit("isLoading",!1)),window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(d["c"]);x([Object(d["b"])()],F.prototype,"filmID",void 0),x([Object(d["b"])()],F.prototype,"filmType",void 0),x([Object(d["d"])("$store.getters.locale")],F.prototype,"localeWatcher",null),F=x([Object(d["a"])({components:{FilmReviewTemplate:y,SlickTemplate:j["a"]}})],F);var C=F,W=C,D=(n("9225"),Object(w["a"])(W,r,i,!1,null,"40c76b1c",null));t["default"]=D.exports},"4fc0":function(e,t,n){},"710c":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("d4ec"),i=n("bee2"),a=(n("99af"),n("bc3a")),c=n.n(a),s=n("0613"),o=n("cd49"),l="f943d3d10cc39fd734122d69efabbacb",u=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,null,[{key:"searchActor",value:function(e){var t=s["a"].getters.locale;return c.a.get("".concat(o["globalAPIMovieDBAddress"],"/3/search/person?api_key=").concat(l,"&language=").concat(t,"&query=").concat(e,"&include_adult=false&page=1")).then((function(e){return e.data.results})).catch((function(e){throw e.response}))}},{key:"fetchActor",value:function(e){var t=s["a"].getters.locale;return c.a.get("".concat(o["globalAPIMovieDBAddress"],"/3/person/").concat(e,"?api_key=").concat(l,"&language=").concat(t)).then((function(e){return e.data})).catch((function(e){throw e.response}))}},{key:"fetchSearchActor",value:function(e){var t=s["a"].getters.locale;return c.a.get("".concat(o["globalAPIMovieDBAddress"],"/3/person/").concat(e,"?api_key=").concat(l,"&language=").concat(t)).then((function(e){return e.data})).catch((function(e){throw e.response}))}},{key:"fetchActorsCastCrew",value:function(e){var t=s["a"].getters.locale;return c.a.get("".concat(o["globalAPIMovieDBAddress"],"/3/person/").concat(e,"/combined_credits?api_key=").concat(l,"&language=").concat(t)).then((function(e){return{cast:e.data.cast,crew:e.data.crew}})).catch((function(e){throw e.response}))}},{key:"fetchPopularPeople",value:function(e){var t=s["a"].getters.locale;return c.a.get("".concat(o["globalAPIMovieDBAddress"],"/3/person/popular?api_key=").concat(l,"&language=").concat(t,"&page=").concat(e)).then((function(e){return e.data})).catch((function(e){throw e.response}))}}]),e}()},"8ebf":function(e,t,n){},9225:function(e,t,n){"use strict";n("8ebf")},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),a=n("44ad"),c=n("fc6a"),s=n("a640"),o=i([].join),l=a!=Object,u=l||!s("join",",");r({target:"Array",proto:!0,forced:u},{join:function(e){return o(c(this),void 0===e?",":e)}})},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),c=a("map");r({target:"Array",proto:!0,forced:!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d9c4:function(e,t,n){"use strict";n("4fc0")}}]);
//# sourceMappingURL=film.f654d92e.js.map